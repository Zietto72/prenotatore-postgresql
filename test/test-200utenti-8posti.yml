config:
  target: "https://prenotatore-postgresql.onrender.com"
  phases:
    - duration: 10         # 10 secondi
      arrivalRate: 20      # 20 utenti/s x 10 = 200 utenti totali
  defaults:
    headers:
      Content-Type: "application/json"
  processor: "./genera-8-posti.js"

scenarios:
  - name: "200 utenti con 8 posti ciascuno"
    flow:
      - function: genera8Posti
      - post:
          url: "/genera-pdf-e-invia"
          json:
            evento: "2025-07-28_Prova"
            prenotatore: "{{ nome }}"
            email: "{{ email }}"
            telefono: "{{ telefono }}"
            totale: 60.00
            spettatori: "{{ spettatori }}"