config:
  target: "https://prenotatore-postgresql.onrender.com"
  phases:
    - duration: 20
      arrivalRate: 20        # 20 utenti/s Ã— 20s = 400 utenti
  defaults:
    headers:
      Content-Type: "application/json"
  processor: "./genera-4-posti.js"

scenarios:
  - name: "400 utenti con 4 posti ciascuno"
    flow:
      - function: genera4Posti
      - post:
          url: "/genera-pdf-e-invia"
          json:
            evento: "2025-07-28_Prova"
            prenotatore: "{{ nome }}"
            email: "{{ email }}"
            telefono: "{{ telefono }}"
            totale: 30.00
            spettatori: "{{ spettatori }}"